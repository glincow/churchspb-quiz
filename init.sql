-- Database initialization script for ChurchSPB Quiz Application
-- "ПИР ЛЮБВИ" - Love Feast Event

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";
SET NAMES utf8mb4;
SET CHARACTER SET utf8mb4;

-- Создание таблицы questionnaire
CREATE TABLE IF NOT EXISTS `questionnaire` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` text NOT NULL,
  `header` varchar(500) NOT NULL,
  `comment` varchar(500) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci AUTO_INCREMENT=2;

-- Вставка данных "ПИР ЛЮБВИ"
INSERT INTO `questionnaire` (`id`, `name`, `header`, `comment`) VALUES
(1, 'ПИР ЛЮБВИ', 'Если нужное количество блюд набрано, а вы всё равно хотели бы принести <b>салат, или мясное, или гарнир,</b> то используйте <b>«Другое»</b>.', '');

-- Создание таблицы questionnaire_list
CREATE TABLE IF NOT EXISTS `questionnaire_list` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `id_list` int(11) DEFAULT NULL,
  `name` varchar(100) NOT NULL,
  `type` varchar(2) NOT NULL,
  `sort` int(3) DEFAULT NULL,
  `limits` int(5) DEFAULT NULL,
  `required` tinyint(1) DEFAULT NULL,
  `quizzer` char(255) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci AUTO_INCREMENT=29;

-- Вставка элементов анкеты для "ПИР ЛЮБВИ"
INSERT INTO `questionnaire_list` (`id`, `id_list`, `name`, `type`, `sort`, `limits`, `required`, `quizzer`) VALUES
(1, 1, 'Салат — 1-1,5 кг', 'ch', 2, 8, 0, ''),
(2, 1, 'Сладости', 'ch', 11, 4, 0, ''),
(3, 1, 'Мясное — 1-1,5 кг', 'ch', 3, 8, NULL, ''),
(4, 1, 'Запечённая картошка — 1 кг', 'ch', 3, 5, NULL, ''),
(5, 2, 'Выпечка (не более  1 кг/чел).', 'ch', 6, 10, NULL, ''),
(6, 2, 'Фрукты — 1 кг', 'ch', 7, 5, NULL, ''),
(7, 1, 'Соки — 2 л', 'ch', 11, 3, NULL, ''),
(8, 1, 'Другое', 'in', 16, NULL, NULL, ''),
(9, 1, 'Комментарий', 'in', 17, NULL, 1, ''),
(10, 1, 'Груши — 1 кг', 'ch', 7, 1, NULL, ''),
(11, 1, 'Виноград — 1 кг', 'ch', 5, 2, NULL, ''),
(12, 1, 'Мандарины — 1 кг', 'ch', 9, 2, NULL, ''),
(13, 2, 'Другие фрукты — 1 кг', 'ch', 10, 1, NULL, ''),
(14, 1, 'Служение — принимать продукты', 'ch', 13, 2, NULL, ''),
(15, 1, 'Служение на кухне (сёстры)', 'ch', 14, 5, NULL, ''),
(16, 1, 'Служение — уборка после пира любви', 'ch', 15, 5, NULL, ''),
(17, 1, 'СЛУЖЕНИЕ', 'he', 12, NULL, NULL, ''),
(18, 1, 'ЕДА', 'he', 1, NULL, NULL, ''),
(19, 2, 'Арбуз — 1 шт', 'ch', 7, 2, NULL, ''),
(20, 2, 'Бананы — 1 кг', 'ch', 4, 1, NULL, ''),
(21, 1, 'Апельсины — 1 кг', 'ch', 3, 1, NULL, ''),
(22, 2, 'Абрикосы — 1 кг', 'ch', 7, 2, NULL, ''),
(23, 2, 'Нектарины — 1 кг', 'ch', 8, 2, NULL, ''),
(24, 2, 'Черешня — 1 кг', 'ch', 9, 2, NULL, ''),
(25, 2, 'Дыня — 1 шт', 'ch', 7, 2, NULL, ''),
(26, 2, 'Хурма/королёк — 1 кг', 'ch', 9, 2, NULL, ''),
(27, 2, 'Киви — 1 кг', 'ch', 7, 1, NULL, ''),
(28, 2, 'Персики — 1 кг', 'ch', 8, 2, NULL, '');

-- Создание таблицы questionnaire_data
CREATE TABLE IF NOT EXISTS `questionnaire_data` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `id_list` int(11) DEFAULT NULL,
  `value` text NOT NULL,
  `date` datetime DEFAULT current_timestamp(),
  PRIMARY KEY (`id`),
  KEY `id_list` (`id_list`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci AUTO_INCREMENT=1456;

-- Вставка данных в таблицу questionnaire_data
INSERT INTO `questionnaire_data` (`id`, `id_list`, `value`, `date`) VALUES
(1388, 7, '1', '2025-10-19 10:39:59'),
(1389, 9, 'Авдюкова Кристина', '2025-10-19 10:39:59'),
(1390, 4, '1', '2025-10-19 10:45:37'),
(1391, 9, 'СД', '2025-10-19 10:45:37'),
(1392, 7, '1', '2025-10-19 11:07:46'),
(1393, 8, 'Алена', '2025-10-19 11:07:46'),
(1394, 4, '1', '2025-10-19 13:56:17'),
(1395, 15, '1', '2025-10-19 13:56:17'),
(1396, 8, 'Людмила Сибагатуллина', '2025-10-19 13:56:17'),
(1397, 11, '1', '2025-10-19 13:57:03'),
(1398, 8, 'Владимир Сибагатуллин', '2025-10-19 13:57:03'),
(1399, 4, '1', '2025-10-19 18:02:57'),
(1400, 9, 'Сестринский дом', '2025-10-19 18:02:57'),
(1401, 7, '1', '2025-10-19 19:27:35'),
(1402, 2, '1', '2025-10-20 10:04:50'),
(1403, 8, 'Торт', '2025-10-20 10:04:51'),
(1404, 9, 'Труханова Галина ', '2025-10-20 10:04:51'),
(1405, 2, '1', '2025-10-21 10:19:53'),
(1406, 9, 'Валентина', '2025-10-21 10:19:53'),
(1407, 12, '1', '2025-10-21 14:31:25'),
(1408, 15, '1', '2025-10-21 14:31:25'),
(1409, 26, '1', '2025-10-23 08:29:08'),
(1410, 9, 'Карпосовы', '2025-10-23 08:29:08'),
(1411, 3, '1', '2025-10-23 15:21:48'),
(1412, 8, 'Сладости к чаю', '2025-10-23 15:21:48'),
(1413, 9, 'Александр Бисеров', '2025-10-23 15:21:48'),
(1414, 1, 'Свежий салат', '2025-10-24 08:01:03'),
(1415, 12, '1', '2025-10-24 08:02:46'),
(1416, 9, 'Роман И. ', '2025-10-24 08:02:46'),
(1420, 1, 'Оливье ', '2025-10-25 04:36:02'),
(1421, 15, '1', '2025-10-25 04:36:02'),
(1422, 10, '1', '2025-10-25 11:46:21'),
(1423, 9, 'Токарь Ольга', '2025-10-25 11:46:21'),
(1424, 15, '1', '2025-10-25 11:51:45'),
(1425, 2, '1', '2025-10-25 11:53:07'),
(1426, 3, '1', '2025-10-25 11:55:26'),
(1427, 9, 'Роман Ж.', '2025-10-25 11:55:26'),
(1428, 2, '1', '2025-10-25 12:00:15'),
(1429, 1, 'Свекольный', '2025-10-25 12:08:09'),
(1430, 9, 'Аэлита ', '2025-10-25 12:08:09'),
(1431, 26, '1', '2025-10-25 12:28:39'),
(1432, 9, 'Игнатьева Екатерина ', '2025-10-25 12:28:39'),
(1433, 8, 'Игнатьев Виктор ', '2025-10-25 12:30:08'),
(1434, 9, 'Сыр', '2025-10-25 12:30:08'),
(1435, 11, '1', '2025-10-25 13:17:43'),
(1436, 16, '1', '2025-10-25 13:17:43'),
(1437, 9, 'Евгений Мякшин ', '2025-10-25 13:17:43'),
(1438, 21, '1', '2025-10-25 13:27:53'),
(1439, 8, 'Трошина Наталья ', '2025-10-25 13:27:53'),
(1440, 3, '1', '2025-10-25 16:00:28'),
(1441, 9, 'Сюняевы', '2025-10-25 16:00:28'),
(1442, 3, '1', '2025-10-25 16:22:29'),
(1443, 8, 'Трошин Александр ', '2025-10-25 16:22:29'),
(1444, 8, 'Печенье ', '2025-10-25 17:50:49'),
(1445, 9, 'Сейтумерова Мария ', '2025-10-25 17:50:49'),
(1446, 1, 'Крабовый ', '2025-10-25 19:42:56'),
(1447, 1, 'Помидоры и огурцы', '2025-10-25 21:53:41'),
(1448, 15, '1', '2025-10-25 21:53:41'),
(1449, 8, 'Снежана', '2025-10-25 21:53:41'),
(1450, 8, 'Что-то к чаю', '2025-10-25 22:31:39'),
(1451, 9, 'Петров Александр ', '2025-10-25 22:31:39'),
(1452, 1, 'Оливье 0,5 и крабовый 1 кг', '2025-10-26 06:14:58'),
(1453, 8, 'Домбровские Илья и Лада', '2025-10-26 06:14:58'),
(1454, 8, 'Арбуз', '2025-10-26 07:20:43'),
(1455, 9, 'Очканова Ольга', '2025-10-26 07:20:43');
